webpackJsonp([1],{496:function(e,a,t){"use strict";function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function s(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?e:a}function i(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}Object.defineProperty(a,"__esModule",{value:!0});var o=t(0),l=t.n(o),u=t(10),c=t(6),m=t.n(c),d=t(454),g=(t.n(d),t(21)),h=t.n(g),p=t(1),f=(t.n(p),t(7)),k=(t.n(f),t(450)),E=t(449),b=function(){function e(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(a,t,n){return t&&e(a.prototype,t),n&&e(a,n),a}}(),v=function(e){function a(e){r(this,a);var t=s(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.handleChange=function(e){t.setState(n({},e.target.name,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),sessionStorage.clear(),t.setState({submitting:!0});var a={email:t.state.email,password:t.state.password};m.a.post("https://api.klikfood.id/index.php/login",h.a.stringify(a)).then(function(e){var a=e;a.data.success&&(sessionStorage.setItem("api_token",a.data.data.api_token),sessionStorage.setItem("username",a.data.data.user.name),sessionStorage.setItem("email",a.data.data.user.email),sessionStorage.setItem("kota",a.data.data.user.address),sessionStorage.setItem("id",a.data.data.user._id),sessionStorage.setItem("role",a.data.data.role)),p.toast.success("Selamat Datang !"),setTimeout(function(){t.setState({submitting:!0,redirect:!0})},2e3),console.log(e)}).catch(function(e){p.toast.error("Gagal Menghubungi Server :("),t.setState({submitting:!1})})},t.handleRegister=function(e){e.preventDefault(),sessionStorage.clear(),t.setState({registrating:!0});var a={name:t.state.registName,username:t.state.registUsername,email:t.state.registEmail,password:t.state.registPassword,address:t.state.registAddress,detail_address:t.state.registDetailAddress,no_tlp:t.state.registHp};console.log(h.a.stringify(a));m.a.post("https://api.klikfood.id/index.php/register/konsumen",h.a.stringify(a)).then(function(e){p.toast.success("Silahkan Cek Email Verifikasi !"),setTimeout(function(){t.setState({registrating:!0,redirect:!0})},2e3),console.log(e)}).catch(function(e){p.toast.error("Gagal Menghubungi Server :("),t.setState({registrating:!1})})},t.state={name:"",email:"",registName:"",registEmail:"",registPassword:"",registAddress:"",registDetailAddress:"",registHp:"",submitting:!1,registrating:!1,redirect:!1},t.handleChange=t.handleChange.bind(t),t}return i(a,e),b(a,[{key:"componentDidMount",value:function(){var e=this.props.location.search.split("=");0!==e.length&&this.setState({registEmail:e[1]})}},{key:"render",value:function(){return this.state.redirect?l.a.createElement(u.c,{to:"/"}):0!==sessionStorage.length?(p.toast.success("Anda Sudah Login !"),l.a.createElement(u.c,{to:"/"})):l.a.createElement("div",null,l.a.createElement("section",{style:{marginBottom:"80px"}},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("center",null,l.a.createElement("h3",null,"Untuk Sementara, Kami Hanya Melayani Wilayah Jabodetabek.")),l.a.createElement("div",{className:"col-sm-4 col-sm-offset-1"},l.a.createElement("div",{className:"login-form"},l.a.createElement("h2",null,"Masuk ke Akun Anda"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("input",{type:"text",name:"email",placeholder:"Username / Email",value:this.state.email,onChange:this.handleChange,required:!0}),l.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange,required:!0}),l.a.createElement(u.b,{to:"/forget"},"Lupa Kata Sandi?"),this.state.submitting?l.a.createElement("div",null,l.a.createElement("b",null,"Sedang Masuk...")):l.a.createElement("button",{type:"submit",className:"btn btn-success"},"Masuk")),l.a.createElement("br",null),l.a.createElement("b",null,"Pastikan anda Login ke e-mail yang sudah anda daftarkan tersebut, untuk mem-Verifikasi pendaftaran di Klikfood. "))),l.a.createElement("div",{className:"col-sm-1"},l.a.createElement("h2",{className:"or"},"Atau")),l.a.createElement("div",{className:"col-sm-4"},l.a.createElement("div",{className:"signup-form"},l.a.createElement("h2",null,"Pendaftar Baru"),l.a.createElement("form",{onSubmit:this.handleRegister,id:"distance_form"},l.a.createElement("input",{type:"text",name:"registName",placeholder:"Nama",value:this.state.registName,onChange:this.handleChange,required:!0}),l.a.createElement("select",{name:"registAddress",onChange:this.handleChange,className:"form-control",required:!0},l.a.createElement("option",null,"Pilih Kota:"),l.a.createElement("option",{value:"Jakarta Selatan, Kota Jakarta Selatan, Daerah Khusus Ibukota Jakarta, Indonesia"},"Jakarta Selatan"),l.a.createElement("option",{value:"Jakarta Utara, Kota Jakarta Utara, Daerah Khusus Ibukota Jakarta, Indonesia"},"Jakarta Utara"),l.a.createElement("option",{value:"Jakarta, Daerah Khusus Ibukota Jakarta, Indonesia"},"DKI Jakarta"),l.a.createElement("option",{value:"Jakarta Pusat, Kota Jakarta Pusat, Daerah Khusus Ibukota Jakarta, Indonesia"},"Jakarta Pusat"),l.a.createElement("option",{value:"Jakarta Barat, Kota Jakarta Barat, Daerah Khusus Ibukota Jakarta, Indonesia"},"Jakarta Barat"),l.a.createElement("option",{value:"Jakarta Timur, Kota Jakarta Timur, Daerah Khusus Ibukota Jakarta, Indonesia"},"Jakarta Timur"),l.a.createElement("option",{value:"Bogor, Jawa Barat, Indonesia"},"Bogor"),l.a.createElement("option",{value:"Depok, Kota Depok, Jawa Barat, Indonesia"},"Depok"),l.a.createElement("option",{value:"Tangerang, Kota Tangerang, Banten, Indonesia"},"Tangerang"),l.a.createElement("option",{value:"Bekasi, Kota Bekasi, Jawa Barat, Indonesia"},"Bekasi")),l.a.createElement("br",null),l.a.createElement("input",{type:"text",name:"registDetailAddress",placeholder:"Alamat Detail ( Jalan / RT / RW )",value:this.state.registDetailAddress,onChange:this.handleChange,required:!0}),l.a.createElement("input",{type:"text",name:"registUsername",placeholder:"Username (Harus Mengandung Angka)",value:this.state.registUsername,onChange:this.handleChange,required:!0}),l.a.createElement("input",{type:"email",name:"registEmail",placeholder:"Alamat Email",value:this.state.registEmail,onChange:this.handleChange,required:!0}),l.a.createElement("input",{type:"password",name:"registPassword",placeholder:"Password",value:this.state.registPassword,onChange:this.handleChange,required:!0}),l.a.createElement("input",{type:"text",name:"registHp",placeholder:"No HP",value:this.state.registHp,onChange:this.handleChange,required:!0}),this.state.registrating?l.a.createElement("div",null,l.a.createElement("b",null,"Mendaftar...")):l.a.createElement("button",{type:"submit",className:"btn btn-success"},"Daftar"))))))),l.a.createElement("footer",{id:"footer"},l.a.createElement(k.a,null),l.a.createElement(E.a,null)))}}]),a}(o.Component);a.default=v}});
//# sourceMappingURL=1.4b558ee7.chunk.js.map